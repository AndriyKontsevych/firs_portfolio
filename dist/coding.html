<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://kit.fontawesome.com/2c9dadc260.js" crossorigin="anonymous"></script>
    <title>Portfolio</title>
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
    <header>
        <div class="menu-btn">
            <div class="btn-line"></div>
            <div class="btn-line"></div>
            <div class="btn-line"></div>
        </div>

        <nav class="menu">
            <div class="menu-branding">
                <div class="portret">

                </div>
            </div>
            <ul class="menu-nav">
                <li class="nav-item">
                    <a href="index.html" class="nav-link">
                        Home
                    </a>
                </li>
                <li class="nav-item">
                    <a href="about.html" class="nav-link">
                        About Me
                    </a>
                </li>
                <li class="nav-item  current">
                    <a href="/" class="nav-link">
                        Writing the Code
                    </a>
                </li>
                <li class="nav-item">
                    <a href="contact.html" class="nav-link">
                        How to Reach Me
                    </a>
                </li>
            </ul>
        </nav>
    </header>

    <main id="coding">
        <div class="game">
            <p style="font-size: 24px">To next level: </p><p id="score"></p>
            <p id="number"></p>
            <input type="tel" id="player" autofocus="autofocus"/>
            <button id="btn">Next</button>
        </div>

        <section>
            <fieldset class="code">
                <legend><sup>JS review</sup></legend>
                <pre class="review">
    
                    window.onload = function() {
                        
                        // get elements
                        var number = document.getElementById("number");
                        var score = document.getElementById("score");
                        var player = document.getElementById("player");
                        var btn = document.getElementById("next");
                    
                            // level
                            var num = "",
                            counter = 10,
                            lvl = 2;
                    
                            function start(){
                                createNumber();
                            }

                                // Numbers generator
                            function createNumber(){
                    
                                if(counter === 0 ){
                                    lvl += 1;
                                    counter = 10;
                                }
                    
                                for(var i = 0; i < lvl; i++){
                                    num += (Math.floor(Math.random() * 9));
                    
                                }
                                number.innerHTML = num;
                                setTimeout(function(){
                                    number.style.visibility = "hidden";
                                }, 2000);
                    
                            }
                    
                                // Events handler
                            document.querySelector('#coding').addEventListener('keydown', function (e) {
                                var key = e.keyCode;
                                if (key === 13) {
                                    number.style.visibility = "visible";
                                    checked();
                                    score.innerHTML = counter;
                                    num = "";
                                    player.value = "";
                                    createNumber();
                                    player.style.autofocus = "autofocus"
                                } 
                            });
                    
                            btn.addEventListener('click', function () {
                                    number.style.visibility = "visible";
                                    checked();
                                    score.innerHTML = counter;
                                    num = "";
                                    player.value = "";
                                    createNumber();
                                    player.style.autofocus = "autofocus"
                            });
                    
                    
                                // Checking function
                            function checked(){
                                
                                var first = parseInt(num);
                                var second = parseInt(player.value);
                    
                                if(first === second) {
                                    counter -= 1;
                                    number.style.border = "3px solid green";
                                    player.style.border = "3px solid green";
                                }
                    
                                else {
                                    counter = 10;
                                    number.style.border = "3px solid red";
                                    player.style.border = "3px solid red";
                                }
                            }
                    
                        start();
                    }
                </pre>
            </fieldset>
        </section>

    </main>

    <footer id="main-footer">
        Copyright &copy; 2019
    </footer>

    <script src="js/main.js"></script>
    <script src="test.js"></script>
</body>
</html>